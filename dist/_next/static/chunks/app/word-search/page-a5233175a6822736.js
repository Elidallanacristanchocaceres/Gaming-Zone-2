(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{7140:function(e,t,r){Promise.resolve().then(r.bind(r,2471))},2471:function(e,t,r){"use strict";var l=r(7437),a=r(2265),n=r(7648);let s=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},o={fácil:{size:8,words:["ESPA\xd1A","M\xc9XICO","PER\xda","CHILE","CUBA","BRASIL","ITALIA","FRANCIA"]},intermedio:{size:10,words:["COLOMBIA","ARGENTINA","ECUADOR","CULTURA","IDIOMA","FIESTA","TANGO"]},difícil:{size:12,words:["SUPERMAN","SPIDERMAN","WONDERWOMAN","WOLVERINE","SHAZAM","MAGNETO","DOCTORDOOM","THANOS","FLASH"]},experto:{size:15,words:["MARRUECOS","SUDAFRICA","ZIMBABUE","PAKISTAN","REINOUNIDO","PAISESBAJOS","ARGENTINA","SIERRALEONA","MADAGASCAR","LIBERIA","NIGERIA","NORUEGA","PORTUGAL","ESLOVENIA"]}};t.default=()=>{let[e,t]=(0,a.useState)("f\xe1cil"),[r,c]=(0,a.useState)([]),[i,d]=(0,a.useState)([]),[u,m]=(0,a.useState)({}),[h,x]=(0,a.useState)(!0),[f,p]=(0,a.useState)(0),[g,b]=(0,a.useState)(0),[N,A]=(0,a.useState)([]),[j,y]=(0,a.useState)(!1),[E,v]=(0,a.useState)(!1),w=(0,a.useRef)([]);(0,a.useEffect)(()=>{if(!h&&!j){p(0),v(!0);let e=setInterval(()=>{p(e=>e+1)},1e3);return()=>clearInterval(e)}},[h,j]);let C=(0,a.useCallback)(async e=>{try{y(!0);let{size:t,words:r}=o[e],l=Array(t).fill(null).map(()=>Array(t).fill(""));for(let e of r)await new Promise(e=>setTimeout(e,0)),S(l,e);O(l),w.current=l,c(l),d(r.map(e=>({word:e,color:"",found:!1}))),m({}),A([]),b(0)}catch(e){console.error("Error initializing grid:",e),alert("Hubo un problema al iniciar el juego. Por favor, int\xe9ntalo de nuevo.")}finally{y(!1),x(!1)}},[]),S=(e,t)=>{let r=[[0,1],[1,0],[1,1],[-1,1],[0,-1],[-1,0],[-1,-1],[1,-1]],l=!1;for(;!l;){let[a,n]=r[Math.floor(Math.random()*r.length)],s=Math.floor(Math.random()*e.length),o=Math.floor(Math.random()*e.length);if(I(e,t,s,o,a,n)){for(let r=0;r<t.length;r++)e[s+r*a][o+r*n]=t[r];l=!0}}},I=(e,t,r,l,a,n)=>{let s=e.length;if(r+t.length*a>s||r+t.length*a<0||l+t.length*n>s||l+t.length*n<0)return!1;for(let s=0;s<t.length;s++){let o=e[r+s*a][l+s*n];if(""!==o&&o!==t[s])return!1}return!0},O=e=>{let t="A\xc1BCDE\xc9FGHI\xcdJKLMN\xd1O\xd3PQRSTU\xdaVWXYZ";for(let r=0;r<e.length;r++)for(let l=0;l<e[r].length;l++)""===e[r][l]&&(e[r][l]=t[Math.floor(Math.random()*t.length)])},M=(0,a.useCallback)(t=>{if(t.length<2)return!1;let r=t.map(e=>{let t=Math.floor(e/w.current.length),r=e%w.current.length;return w.current[t][r]}).sort().join(""),l=o[e].words.find(e=>e.split("").sort().join("")===r);if(l){let r=s();return d(t=>{let a=t.map(e=>e.word===l?{...e,color:r,found:!0}:e);return a.every(e=>e.found)&&alert("\xa1Felicidades! Has encontrado todas las palabras.\n\nNivel: ".concat(e,"\nTiempo: ").concat(f," segundos\nPuntuaci\xf3n: ").concat(g)),a}),m(e=>{let l={...e};return t.forEach(e=>{l[e]=r}),l}),b(e=>e+10*l.length),A([]),!0}return!1},[e,f,g]),R=(0,a.useCallback)(e=>{A(t=>{if(t.includes(e))return t.filter(t=>t!==e);let r=[...t,e];return r.length>=2&&M(r)?[]:r})},[M]);return(0,a.useCallback)(()=>{let r=["f\xe1cil","intermedio","dif\xedcil","experto"],l=r.indexOf(e);if(l<r.length-1){let e=r[l+1];t(e),x(!1),C(e)}else alert("\xa1Felicidades! Has completado todos los niveles."),x(!0)},[e,C]),(0,l.jsx)("div",{className:"w-full",children:h?(0,l.jsxs)("div",{className:"w-full max-w-md mx-auto bg-card p-8 rounded-xl shadow-lg",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center text-primary mb-6",children:"Sopa de Letras"}),(0,l.jsx)("p",{className:"text-lg text-center mb-6 text-primary",children:"Selecciona la dificultad:"}),(0,l.jsx)("div",{className:"space-y-4",children:Object.keys(o).map(r=>(0,l.jsx)("button",{className:"w-full py-4 ".concat(e===r?"bg-accent":"bg-secondary"," hover:bg-secondary/90 text-white font-bold rounded-lg"),onClick:()=>{y(!0),t(r),C(r).catch(e=>{console.error("Error initializing game:",e),y(!1),x(!0),alert("No se pudo iniciar el juego. Por favor, int\xe9ntalo de nuevo.")})},disabled:j,children:j?"Cargando...":r.charAt(0).toUpperCase()+r.slice(1)},r))})]}):j?(0,l.jsx)("div",{className:"w-full max-w-md mx-auto bg-card p-8 rounded-xl shadow-lg flex items-center justify-center h-64",children:(0,l.jsx)("p",{className:"text-xl text-primary",children:"Cargando..."})}):E?(()=>{let t=o[e].size,r=Math.min(500/t,40);return(0,l.jsx)("div",{className:"w-full max-w-4xl mx-auto bg-card p-6 rounded-xl shadow-lg",children:j?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("p",{className:"text-xl text-primary",children:"Cargando..."})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Sopa de Letras"}),(0,l.jsxs)("p",{className:"text-lg text-primary mb-2",children:["Nivel: ",e]}),(0,l.jsxs)("div",{className:"flex justify-between max-w-xs mx-auto",children:[(0,l.jsxs)("p",{className:"text-primary",children:["Tiempo: ",f,"s"]}),(0,l.jsxs)("p",{className:"text-primary",children:["Puntuaci\xf3n: ",g]})]})]}),(0,l.jsx)("div",{className:"flex justify-center mb-6",children:(0,l.jsx)("div",{className:"grid gap-1 border border-border p-2 rounded-lg",style:{gridTemplateColumns:"repeat(".concat(t,", ").concat(r,"px)"),gridTemplateRows:"repeat(".concat(t,", ").concat(r,"px)")},children:w.current.flatMap((e,t)=>e.map((e,r)=>{let a=t*w.current.length+r,n=N.includes(a),s=u[a];return(0,l.jsx)("button",{className:"flex items-center justify-center font-bold text-sm transition-colors ".concat(n&&!s?"bg-secondary text-white":s?"":"bg-muted hover:bg-muted/80"),style:s?{backgroundColor:s,color:"white"}:{},onClick:()=>R(a),children:e},"".concat(t,"-").concat(r))}))})}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:i.map(e=>{let{word:t,color:r,found:a}=e;return(0,l.jsx)("span",{className:"px-2 py-1 rounded ".concat(a?"line-through":"bg-muted"),style:a?{backgroundColor:r,color:"white"}:{},children:t},t)})}),(0,l.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,l.jsx)("button",{onClick:()=>C(e),className:"bg-secondary hover:bg-secondary/90 text-white font-bold py-2 px-4 rounded-lg",children:"Reiniciar"}),(0,l.jsx)("button",{onClick:()=>x(!0),className:"bg-accent hover:bg-accent/90 text-white font-bold py-2 px-4 rounded-lg",children:"Cambiar Nivel"}),(0,l.jsx)(n.default,{href:"/",children:(0,l.jsx)("button",{className:"border-2 border-primary text-primary hover:bg-primary/10 font-bold py-2 px-4 rounded-lg",children:"Men\xfa Principal"})})]})]})]})})})():null})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=7140)}),_N_E=e.O()}]);